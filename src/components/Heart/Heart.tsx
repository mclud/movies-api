import { useEffect } from "react";
import { useDispatch } from "react-redux";
import { addFav, removeFav } from "../../features/favs/favsSlice";
import "./Heart.css";

type Props = {
  id: number;
  fav: boolean;
};
export const Heart = (props: Props) => {
  const dispatch = useDispatch();

  return (
    <div className="heart" data-fav={props.fav}>
      {props.fav ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="38"
          height="38"
          viewBox="0 0 38 38"
          fill="none"
          onClick={() => dispatch(removeFav({ ...props }))}
        >
          <g clipPath="url(#clip0_19_20)">
            <path
              d="M34.0835 5.26668C32.1419 3.32512 29.5715 2.26394 26.8282 2.26394C24.0849 2.26394 21.5066 3.33298 19.565 5.27454L18.551 6.28856L17.5213 5.25882C15.5797 3.31726 12.9936 2.24036 10.2502 2.24036C7.51476 2.24036 4.93649 3.3094 3.00278 5.2431C1.06122 7.18466 -0.00781754 9.76293 4.30423e-05 12.5063C4.30423e-05 15.2496 1.07694 17.82 3.01851 19.7616L17.7807 34.5238C17.985 34.7281 18.2602 34.8382 18.5274 34.8382C18.7947 34.8382 19.0698 34.736 19.2742 34.5316L34.0678 19.793C36.0094 17.8515 37.0784 15.2732 37.0784 12.5299C37.0863 9.78651 36.0251 7.20824 34.0835 5.26668ZM32.5743 18.2917L18.5274 32.2835L4.51202 18.2681C2.97134 16.7274 2.1224 14.6837 2.1224 12.5063C2.1224 10.3289 2.96348 8.28514 4.50415 6.75233C6.03697 5.21952 8.08072 4.37057 10.2502 4.37057C12.4276 4.37057 14.4792 5.21952 16.0199 6.76019L17.7964 8.53668C18.213 8.95329 18.8812 8.95329 19.2978 8.53668L21.0585 6.77591C22.5992 5.23524 24.6508 4.38629 26.8203 4.38629C28.9899 4.38629 31.0336 5.23524 32.5743 6.76805C34.115 8.30872 34.956 10.3525 34.956 12.5299C34.9639 14.7072 34.115 16.751 32.5743 18.2917Z"
              fill="#F15A5A"
            />
            <path
              d="M2 17L18.5 33.5L30.5 22L35.5 15.5V10L34.5 7L30.5 4.5L24 3.5L18.5 8L15.5 5L12.5 3.5H8L1.5 8.5L2 17Z"
              fill="#F15A5A"
            />
          </g>
          <defs>
            <clipPath id="clip0_19_20">
              <rect width="37.0784" height="37.0784" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="38"
          height="38"
          viewBox="0 0 38 38"
          fill="none"
          onClick={() => dispatch(addFav({ ...props }))}
        >
          <g clipPath="url(#clip0_19_13)">
            <path
              d="M34.4951 6.09017C32.5536 4.1486 29.9832 3.08742 27.2398 3.08742C24.4965 3.08742 21.9182 4.15646 19.9766 6.09803L18.9626 7.11204L17.9329 6.08231C15.9913 4.14074 13.4052 3.06384 10.6619 3.06384C7.92638 3.06384 5.34811 4.13288 3.41441 6.06658C1.47284 8.00815 0.403804 10.5864 0.411664 13.3298C0.411664 16.0731 1.48856 18.6435 3.43013 20.5851L18.1923 35.3472C18.3967 35.5516 18.6718 35.6617 18.939 35.6617C19.2063 35.6617 19.4814 35.5595 19.6858 35.3551L34.4794 20.6165C36.421 18.675 37.49 16.0967 37.49 13.3533C37.4979 10.61 36.4367 8.03173 34.4951 6.09017ZM32.9859 19.1151L18.939 33.107L4.92364 19.0916C3.38296 17.5509 2.53402 15.5071 2.53402 13.3298C2.53402 11.1524 3.3751 9.10863 4.91578 7.57582C6.44859 6.043 8.49234 5.19406 10.6619 5.19406C12.8392 5.19406 14.8908 6.043 16.4315 7.58368L18.208 9.36017C18.6246 9.77678 19.2928 9.77678 19.7094 9.36017L21.4702 7.5994C23.0108 6.05872 25.0624 5.20978 27.232 5.20978C29.4015 5.20978 31.4452 6.05872 32.9859 7.59154C34.5266 9.13221 35.3677 11.176 35.3677 13.3533C35.3755 15.5307 34.5266 17.5745 32.9859 19.1151Z"
              fill="#F15A5A"
            />
          </g>
          <defs>
            <clipPath id="clip0_19_13">
              <rect
                width="37.0784"
                height="37.0784"
                fill="white"
                transform="translate(0.411621 0.823486)"
              />
            </clipPath>
          </defs>
        </svg>
      )}
    </div>
  );
};
